# チケット #008: 設定画面

## 概要
APIキーの設定やアプリケーションの各種設定を管理する画面

## 受け入れ条件
- Gemini APIキーを安全に入力・保存できること
- APIキーの有効性を確認できること
- 設定がLocalStorageに保存されること
- パスワード入力のようにAPIキーがマスクされること

## タスクリスト

### 設定画面UI
- [ ] Settingsコンポーネントの作成
- [ ] 設定項目のレイアウト実装
- [ ] タブ形式の設定カテゴリー分け
- [ ] 保存ボタンとキャンセルボタン

### APIキー管理
- [ ] APIキー入力フィールド（マスク表示）
- [ ] 表示/非表示トグルボタン
- [ ] APIキーの暗号化保存（基本的な難読化）
- [ ] APIキーの検証機能
- [ ] テスト接続ボタン

### その他の設定項目
- [ ] テーマ設定（将来用のプレースホルダー）
- [ ] 言語設定（将来用のプレースホルダー）
- [ ] データエクスポート（将来用のプレースホルダー）
- [ ] データクリア機能

### データ管理
- [ ] 設定データの保存処理
- [ ] 設定データの読み込み処理
- [ ] デフォルト設定の定義
- [ ] 設定リセット機能

### バリデーション
- [ ] APIキー形式の検証
- [ ] 必須項目チェック
- [ ] エラーメッセージ表示

## 技術的詳細

### 設定データ構造
```typescript
interface AppSettings {
  apiKey?: string;           // 暗号化されたAPIキー
  theme: 'light' | 'dark';  // 将来用
  language: 'ja' | 'en';    // 将来用
  autoSave: boolean;         // 自動保存設定
}
```

### APIキー暗号化（簡易版）
```typescript
// 簡易的な難読化（本番環境ではより強固な暗号化を推奨）
const encryptApiKey = (key: string): string => {
  return btoa(key);  // Base64エンコード
};

const decryptApiKey = (encrypted: string): string => {
  return atob(encrypted);  // Base64デコード
};
```

### UIレイアウト
```
[設定]

API設定
├─ Gemini APIキー: [*************] 👁️
├─ [接続テスト]
└─ ステータス: ✅ 接続済み

データ管理
├─ [全データをエクスポート] (disabled)
├─ [全データをクリア] ⚠️
└─ データ使用量: 1.2MB / 5MB

その他
├─ テーマ: ○ライト ●パステル (将来実装)
└─ 言語: 日本語 (将来実装)

[保存] [キャンセル]
```

### カラーテーマ
- 背景: パステルグレー（#F5F5F5）
- セクション背景: 白（#FFFFFF）
- 保存ボタン: パステルグリーン（#C8E6C9）
- 危険な操作: パステルレッド（#FFCDD2）

## 依存関係
- チケット#004（AI質問生成）と連携してAPIキーを使用

## 備考
- APIキーは一度設定したら表示はマスクされる
- 設定変更は即座に反映される
- データクリアは確認ダイアログを表示